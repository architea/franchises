---
import RichTextRenderer from "storyblok-rich-text-astro-renderer/RichTextRenderer.astro"
import Button from "../Button.astro"

function isEmpty(obj) {
  return Object.keys(obj).length === 0
}

let { content } = Astro.props
if (isEmpty(content)) {
  content = {
    type: "doc",
    content: []
  }
}
---

{
  content && (
    <RichTextRenderer
      content={content}
      resolver={(blok) => {
        if (blok.component === "button") {
          return { component: Button, props: { blok } }
        }
      }}
    />
  )
}
